(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>o});var i=n(601),s=n.n(i),a=n(314),r=n.n(a)()(s());r.push([t.id,".gameContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 15px;\n}\n\n.canvas {\n  border: 1px solid black;\n}\n",""]);const o=r},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,s,a){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(r[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);i&&r[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var a={},r=[],o=0;o<t.length;o++){var c=t[o],d=i.base?c[0]+i.base:c[0],l=a[d]||0,h="".concat(d," ").concat(l);a[d]=l+1;var u=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=s(p,i);i.byIndex=o,e.splice(o,0,{identifier:h,updater:f,references:1})}r.push(h)}return r}function s(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,s){var a=i(t=t||[],s=s||{});return function(t){t=t||[];for(var r=0;r<a.length;r++){var o=n(a[r]);e[o].references--}for(var c=i(t,s),d=0;d<a.length;d++){var l=n(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={id:i,exports:{}};return t[i](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;class i{constructor(t,e,n,i,s){this.canvas=t,this.ctx=e,this.players=n,this.rounds=i,this.ball=s}updateRounds(){this.rounds+=1}}class s{constructor(t,e,n,i,s){this.dx=t,this.dy=e,this.positionX=n,this.positionY=i,this.radius=s}reset(t){this.positionX=t.width/2,this.positionY=t.height/2}setSpeed(t){this.dx=t,this.dy=t}checkPaddleCollision(t){this.positionX+this.radius>=t.x&&this.positionX-this.radius<=t.x+t.width&&this.positionY+this.radius>=t.y&&this.positionY-this.radius<=t.y+t.height&&(this.dx=-this.dx)}moveBall(t,e,n){return this.positionX-this.radius<=0?(n.updateScore(),!0):this.positionX+this.radius>=t.width?(e.updateScore(),!0):((this.positionY-this.radius<=0||this.positionY+this.radius>=t.height)&&(this.dy=-this.dy),this.checkPaddleCollision(e.paddle),this.checkPaddleCollision(n.paddle),this.positionX+=this.dx,void(this.positionY+=this.dy))}draw(t){t.beginPath(),t.arc(this.positionX,this.positionY,this.radius,0,2*Math.PI),t.fill(),t.closePath()}}class a{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type=t,this.name=e,this.paddle=n,this.score=i}updateScore(){this.score+=1,console.log(`${this.name}: ${this.score}`)}}class r{constructor(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}movePaddle(t){this.x+=t}draw(t){t.fillRect(this.x,this.y,this.width,this.height)}}const o=document.querySelector("#content");let c=!0;function d(t,e,n){const i=document.querySelector(".scoreCanvas").getContext("2d");i.clearRect(0,0,i.canvas.width,i.canvas.height),i.font="30px Arial",i.textAlign="center",i.fillText(`Player 1: ${e}`,i.canvas.width/4,i.canvas.height/2),i.fillText(`Round: ${t.rounds}`,2*i.canvas.width/4,i.canvas.height/2),i.fillText(`Player 2: ${n}`,3*i.canvas.width/4,i.canvas.height/2)}function l(t){const e=t.ctx,n=t.canvas,i=t.players[0],s=t.players[1],a=t.ball;e.clearRect(0,0,n.width,n.height),i.paddle.draw(e),s.paddle.draw(e),c||(a.draw(e),a.moveBall(n,i,s)&&(c=!0,d(t,i.score,s.score),h(t),a.reset(n),a.setSpeed(Math.random()<.5?a.dx:-a.dx)),requestAnimationFrame((()=>l(t))))}function h(t){let e=3;const n=t.ctx,i=t.canvas,s=t.players[0],a=t.players[1];t.ball,n.clearRect(0,0,i.width,i.height),s.paddle.draw(n),a.paddle.draw(n),setTimeout((()=>{n.fillText(e,i.width/2,i.height/2);const r=setInterval((()=>{e-=1,n.clearRect(0,0,i.width,i.height),s.paddle.draw(n),a.paddle.draw(n),e>0?n.fillText(e,i.width/2,i.height/2):(clearInterval(r),c=!1,requestAnimationFrame((()=>t.updateRounds()),l(t)))}),1e3)}),100)}var u=n(72),p=n.n(u),f=n(825),v=n.n(f),m=n(659),y=n.n(m),g=n(56),x=n.n(g),w=n(540),b=n.n(w),C=n(113),P=n.n(C),S=n(208),T={};T.styleTagTransform=P(),T.setAttributes=x(),T.insert=y().bind(null,"head"),T.domAPI=v(),T.insertStyleElement=b(),p()(S.A,T),S.A&&S.A.locals&&S.A.locals;("gameId",new URLSearchParams(window.location.search).get("gameId"))||function(){!function(){const t=document.createElement("div");t.classList.add("gameContainer"),o.appendChild(t);const e=document.createElement("canvas");e.classList.add("canvas"),t.appendChild(e),e.width=800,e.height=400;const n=document.createElement("canvas");n.classList.add("scoreCanvas"),t.appendChild(n),n.width=800,n.height=100}();const t=document.querySelector(".canvas"),e=t.getContext("2d"),n=(document.querySelector(".scoreCanvas").getContext("2d"),new r(40,t.height/2-50,10,100)),c=new a("player","Player 1",n,0),l=new r(t.width-50,t.height/2-50,10,100),u=new a("player","Player 2",l,0),p=[c,u],f=new s(2,2,t.width/2,t.height/2,10),v=new i(t,e,p,0,f);c.paddle.draw(e),u.paddle.draw(e),d(v,c.score,u.score),e.font="48px serif",e.textAlign="center",e.textBaseline="middle";const m=t.width/2,y=t.height/2;e.fillText("Press ENTER to start",m,y),document.addEventListener("keypress",(t=>{"Enter"===t.key&&h(v)}))}()})();