/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={1208:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(1601),i=n.n(r),o=n(6314),s=n.n(o),a=n(4417),c=n.n(a),u=new URL(n(8970),n.b),h=new URL(n(5650),n.b),d=s()(i());d.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Honk&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap);"]);var f=c()(u),l=c()(h);d.push([t.id,`* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --primary-color: #fc5caf;\n  --secondary-color: #2ecc71;\n  --font: "Ubuntu Mono", system-ui;\n  --header-font: "Honk", system-ui;\n}\n\n#content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  margin: 0;\n}\n\n.startMenu,\n.localMenu,\n.onlineMenu,\n.gameContainer {\n  background-image: url(${f});\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n}\n\n.gameContainer {\n  justify-content: center;\n}\n\n.gameContainer * {\n  position: relative;\n  z-index: 2;\n}\n\n.gameContainer::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7); /* Adjust the darkness level */\n  z-index: 1;\n}\n\n.startMenu .gameName,\n.localMenu .localHeader,\n.onlineMenu .onlineHeader {\n  font-family: var(--header-font);\n  margin-top: 30px;\n  font-size: clamp(5rem, 10vw, 10rem);\n}\n\n.buttonContainer {\n  display: flex;\n  gap: 15px;\n}\n\nbutton {\n  padding: 15px;\n  border-radius: 15px;\n  background: linear-gradient(180deg, #ffffb2, #ff875c, #ff3dae);\n  font-size: clamp(1rem, 2vw, 2rem);\n  font-weight: 600;\n  font-family: var(--font);\n  border: 5px solid #310129;\n  transition: all 0.2s ease-in-out;\n}\n\nbutton:hover {\n  background: linear-gradient(180deg, #f7f7a1, #f87444, #ff2da7);\n  transform: translateY(-5px);\n}\n\nbutton:active {\n  transform: scale(0.98);\n  background-color: #ff7a5e;\n  transition: all 0.2s ease-in-out;\n}\n\n.footerContainer {\n  background-color: #fc5caf7d;\n  backdrop-filter: blur(10px);\n  margin-top: auto;\n  font-family: var(--font);\n  width: 100%;\n  padding: 10px;\n  justify-content: space-around;\n  display: flex;\n}\n\n.canvasContainer {\n  position: relative;\n  width: 800px;\n  height: 400px;\n  outline: 15px solid black;\n  background-image: url(${l});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.canvas {\n  position: absolute;\n}\n\n.toast {\n  font-family: var(--font);\n  visibility: hidden;\n  max-width: 50%;\n  margin: 0 auto;\n  text-align: center;\n  border-radius: 5px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1;\n  left: 50%;\n  bottom: 30px;\n  font-size: 17px;\n  transform: translateX(-50%);\n  border-radius: 15px;\n  box-shadow:\n    rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n  background-color: #202f3b;\n  color: #f6f5e3;\n}\n\n.toast.show {\n  visibility: visible;\n  -webkit-animation:\n    fadein 0.5s,\n    fadeout 0.5s 2.5s;\n  animation:\n    fadein 0.5s,\n    fadeout 0.5s 2.5s;\n}\n\n.toast.show.alert {\n  background-color: #ff6487;\n}\n\n.spinner {\n  border: 9px solid #f9f8e5;\n  border-top: 9px solid #f74098d5;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.dialog {\n  font-family: var(--font);\n  top: 50%;\n  left: 50%;\n  font-size: 1.1rem;\n  overflow: visible;\n  transform: translate(-50%, -50%);\n  transition: opacity 0.4s ease-out;\n  border: none;\n  padding: 20px 40px 20px 40px;\n  border-radius: 15px;\n  box-shadow:\n    rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n  background-color: #7c1f7c;\n  color: #f6f5e3;\n  flex-direction: column;\n  gap: 15px;\n  align-items: center;\n}\n\n.dialogContainer,\n.idContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n}\n\n.idContainer .gameId {\n  background-color: #bd3cbd;\n  padding: 5px 20px;\n  border-radius: 15px;\n  transition: all 0.2s ease-in-out;\n}\n.idContainer .gameId:hover {\n  background-color: #d972d9;\n}\n\n.dialogForm {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n}\n.formElement {\n  display: flex;\n  gap: 7px;\n  flex-direction: column;\n}\n.formElement input {\n  padding: 5px 10px;\n}\n.dialog button {\n  font-size: 1.1rem;\n  width: 120px;\n  padding: 10px;\n}\n\n.gameId .tooltiptext {\n  visibility: hidden;\n  width: 160px;\n  background-color: #bd3cbd;\n  font-size: min(5vw, 1rem);\n  color: #fefefe;\n  text-align: center;\n  border-radius: 15px;\n  padding: 5px 10px;\n  position: absolute;\n  z-index: 1;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -80px;\n}\n\n.gameId:hover .tooltiptext {\n  visibility: visible;\n  opacity: 1;\n}\n.controlsContainer {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n}\n.controlsHeader {\n  font-family: var(--header-font);\n  font-size: clamp(2rem, 5vw, 5rem);\n}\n.controls {\n  font-family: var(--font);\n  background-color: #fc5caf7d;\n  backdrop-filter: blur(10px);\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 20px;\n  padding: 10px;\n  border-radius: 15px;\n}\n.wsContainer,\n.arrowContainer {\n  display: flex;\n  align-items: center;\n  font-size: 1.2rem;\n}\n\n.buttonImageContainer {\n  width: 80px;\n  height: 80px;\n}\n.buttonImage {\n  width: auto;\n  height: 80px;\n}\n.arrowImage {\n  height: 70px;\n}\ndialog:-internal-dialog-in-top-layer::backdrop {\n  position: fixed;\n  inset: -20px; /* Increase the size beyond the viewport */\n  background: rgba(0, 0, 0, 0.3); /* Darker backdrop */\n}\n`,""]);const p=d},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var u=0;u<t.length;u++){var h=[].concat(t[u]);r&&s[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),e.push(h))}},e}},4417:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},1601:t=>{"use strict";t.exports=function(t){return t[1]}},1611:t=>{!function(e){t.exports=e;var n="listeners",r={on:function(t,e){return s(this,t).push(e),this},once:function(t,e){var n=this;return r.originalListener=e,s(n,t).push(r),n;function r(){o.call(n,t,r),e.apply(this,arguments)}},off:o,emit:function(t,e){var n=this,r=s(n,t,!0);if(!r)return!1;var i=arguments.length;if(1===i)r.forEach((function(t){t.call(n)}));else if(2===i)r.forEach((function(t){t.call(n,e)}));else{var o=Array.prototype.slice.call(arguments,1);r.forEach((function(t){t.apply(n,o)}))}return!!r.length}};function i(t){for(var e in r)t[e]=r[e];return t}function o(t,e){var r,i=this;if(arguments.length){if(e){if(r=s(i,t,!0)){if(!(r=r.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return o.call(i,t);i[n][t]=r}}else if((r=i[n])&&(delete r[t],!Object.keys(r).length))return o.call(i)}else delete i[n];return i}function s(t,e,r){if(!r||t[n]){var i=t[n]||(t[n]={});return i[e]||(i[e]=[])}}i(e.prototype),e.mixin=i}((function t(){if(!(this instanceof t))return new t}))},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,d=n?i-1:0,f=n?-1:1,l=t[e+d];for(d+=f,o=l&(1<<-h)-1,l>>=-h,h+=a;h>0;o=256*o+t[e+d],d+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+d],d+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,r),o-=u}return(l?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,d=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+l]=255&s,l+=p,s/=256,u-=8);t[n+l-p]|=128*y}},8305:function(t,e){!function(t){var e,n="undefined",r=n!==typeof Buffer&&Buffer,i=n!==typeof Uint8Array&&Uint8Array,o=n!==typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],a=Array.isArray||function(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)},c=4294967296;function u(a,u,w){var x=u?0:4,k=u?4:0,_=u?0:3,E=u?1:2,A=u?2:1,C=u?3:0,B=u?m:v,T=u?g:b,R=U.prototype,S="is"+a,P="_"+S;return R.buffer=void 0,R.offset=0,R[P]=!0,R.toNumber=O,R.toString=function(t){var e=this.buffer,n=this.offset,r=L(e,n+x),i=L(e,n+k),o="",s=!w&&2147483648&r;for(s&&(r=~r,i=c-i),t=t||10;;){var a=r%t*c+i;if(r=Math.floor(r/t),i=Math.floor(a/t),o=(a%t).toString(t)+o,!r&&!i)break}return s&&(o="-"+o),o},R.toJSON=O,R.toArray=h,r&&(R.toBuffer=d),i&&(R.toArrayBuffer=f),U[S]=function(t){return!(!t||!t[P])},t[a]=U,U;function U(t,r,a,u){return this instanceof U?function(t,r,a,u,h){i&&o&&(r instanceof o&&(r=new i(r)),u instanceof o&&(u=new i(u))),r||a||u||e?(l(r,a)||(h=a,u=r,a=0,r=new(e||Array)(8)),t.buffer=r,t.offset=a|=0,n!==typeof u&&("string"==typeof u?function(t,e,n,r){var i=0,o=n.length,s=0,a=0;"-"===n[0]&&i++;for(var u=i;i<o;){var h=parseInt(n[i++],r);if(!(h>=0))break;a=a*r+h,s=s*r+Math.floor(a/c),a%=c}u&&(s=~s,a?a=c-a:s++),I(t,e+x,s),I(t,e+k,a)}(r,a,u,h||10):l(u,h)?p(r,a,u,h):"number"==typeof h?(I(r,a+x,u),I(r,a+k,h)):u>0?B(r,a,u):u<0?T(r,a,u):p(r,a,s,0))):t.buffer=y(s,0)}(this,t,r,a,u):new U(t,r,a,u)}function O(){var t=this.buffer,e=this.offset,n=L(t,e+x),r=L(t,e+k);return w||(n|=0),n?n*c+r:r}function I(t,e,n){t[e+C]=255&n,n>>=8,t[e+A]=255&n,n>>=8,t[e+E]=255&n,n>>=8,t[e+_]=255&n}function L(t,e){return 16777216*t[e+_]+(t[e+E]<<16)+(t[e+A]<<8)+t[e+C]}}function h(t){var n=this.buffer,r=this.offset;return e=null,!1!==t&&0===r&&8===n.length&&a(n)?n:y(n,r)}function d(t){var n=this.buffer,i=this.offset;if(e=r,!1!==t&&0===i&&8===n.length&&Buffer.isBuffer(n))return n;var o=new r(8);return p(o,0,n,i),o}function f(t){var n=this.buffer,r=this.offset,s=n.buffer;if(e=i,!1!==t&&0===r&&s instanceof o&&8===s.byteLength)return s;var a=new i(8);return p(a,0,n,r),a.buffer}function l(t,e){var n=t&&t.length;return e|=0,n&&e+8<=n&&"string"!=typeof t[e]}function p(t,e,n,r){e|=0,r|=0;for(var i=0;i<8;i++)t[e++]=255&n[r++]}function y(t,e){return Array.prototype.slice.call(t,e,e+8)}function m(t,e,n){for(var r=e+8;r>e;)t[--r]=255&n,n/=256}function g(t,e,n){var r=e+8;for(n++;r>e;)t[--r]=255&-n^255,n/=256}function v(t,e,n){for(var r=e+8;e<r;)t[e++]=255&n,n/=256}function b(t,e,n){var r=e+8;for(n++;e<r;)t[e++]=255&-n^255,n/=256}u("Uint64BE",!0,!0),u("Int64BE",!0,!1),u("Uint64LE",!1,!0),u("Int64LE",!1,!1)}("string"!=typeof e.nodeName?e:this||{})},4634:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},7830:(t,e,n)=>{e.encode=n(7870).encode,e.decode=n(7402).decode,e.Encoder=n(7158).Encoder,e.Decoder=n(8762).Decoder,e.createCodec=n(1325).createCodec,e.codec=n(8884).codec},924:function(t){function e(t){return t&&t.isBuffer&&t}t.exports=e("undefined"!=typeof Buffer&&Buffer)||e(this.Buffer)||e("undefined"!=typeof window&&window.Buffer)||this.Buffer},7179:(t,e)=>{e.copy=function(t,e,n,r){var i;n||(n=0),r||0===r||(r=this.length),e||(e=0);var o=r-n;if(t===this&&n<e&&e<r)for(i=o-1;i>=0;i--)t[i+e]=this[i+n];else for(i=0;i<o;i++)t[i+e]=this[i+n];return o},e.toString=function(t,e,n){var r=this,i=0|e;n||(n=r.length);for(var o="",s=0;i<n;)(s=r[i++])<128?o+=String.fromCharCode(s):(192==(224&s)?s=(31&s)<<6|63&r[i++]:224==(240&s)?s=(15&s)<<12|(63&r[i++])<<6|63&r[i++]:240==(248&s)&&(s=(7&s)<<18|(63&r[i++])<<12|(63&r[i++])<<6|63&r[i++]),s>=65536?(s-=65536,o+=String.fromCharCode(55296+(s>>>10),56320+(1023&s))):o+=String.fromCharCode(s));return o},e.write=function(t,e){for(var n=this,r=e||(e|=0),i=t.length,o=0,s=0;s<i;)(o=t.charCodeAt(s++))<128?n[r++]=o:o<2048?(n[r++]=192|o>>>6,n[r++]=128|63&o):o<55296||o>57343?(n[r++]=224|o>>>12,n[r++]=128|o>>>6&63,n[r++]=128|63&o):(o=65536+(o-55296<<10|t.charCodeAt(s++)-56320),n[r++]=240|o>>>18,n[r++]=128|o>>>12&63,n[r++]=128|o>>>6&63,n[r++]=128|63&o);return r-e}},8964:(t,e,n)=>{var r=n(8204),i=t.exports=o(0);function o(t){return new Array(t)}i.alloc=o,i.concat=r.concat,i.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(i,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(t)}},2847:(t,e,n)=>{var r=n(8204),i=r.global,o=t.exports=r.hasBuffer?s(0):[];function s(t){return new i(t)}o.alloc=r.hasBuffer&&i.alloc||s,o.concat=r.concat,o.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(o,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(t):new i(t)}},3043:(t,e,n)=>{var r,i=n(7179);e.copy=u,e.slice=h,e.toString=function(t,e,n){return(!a&&o.isBuffer(this)?this.toString:i.toString).apply(this,arguments)},e.write=(r="write",function(){return(this[r]||i[r]).apply(this,arguments)});var o=n(8204),s=o.global,a=o.hasBuffer&&"TYPED_ARRAY_SUPPORT"in s,c=a&&!s.TYPED_ARRAY_SUPPORT;function u(t,e,n,r){var s=o.isBuffer(this),a=o.isBuffer(t);if(s&&a)return this.copy(t,e,n,r);if(c||s||a||!o.isView(this)||!o.isView(t))return i.copy.call(this,t,e,n,r);var u=n||null!=r?h.call(this,n,r):this;return t.set(u,e),u.length}function h(t,e){var n=this.slice||!c&&this.subarray;if(n)return n.call(this,t,e);var r=o.alloc.call(this,e-t);return u.call(this,r,0,t,e),r}},5188:(t,e,n)=>{var r=n(8204),i=t.exports=r.hasArrayBuffer?o(0):[];function o(t){return new Uint8Array(t)}i.alloc=o,i.concat=r.concat,i.from=function(t){if(r.isView(t)){var e=t.byteOffset,n=t.byteLength;(t=t.buffer).byteLength!==n&&(t.slice?t=t.slice(e,e+n):(t=new Uint8Array(t)).byteLength!==n&&(t=Array.prototype.slice.call(t,e,e+n)))}else{if("string"==typeof t)return r.from.call(i,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(t)}},8204:(t,e,n)=>{var r=e.global=n(924),i=e.hasBuffer=r&&!!r.isBuffer,o=e.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=e.isArray=n(4634);e.isArrayBuffer=o?function(t){return t instanceof ArrayBuffer||p(t)}:g;var a=e.isBuffer=i?r.isBuffer:g,c=e.isView=o?ArrayBuffer.isView||v("ArrayBuffer","buffer"):g;e.alloc=l,e.concat=function(t,n){n||(n=0,Array.prototype.forEach.call(t,(function(t){n+=t.length})));var r=this!==e&&this||t[0],i=l.call(r,n),o=0;return Array.prototype.forEach.call(t,(function(t){o+=f.copy.call(t,i,o)})),i},e.from=function(t){return"string"==typeof t?y.call(this,t):m(this).from(t)};var u=e.Array=n(8964),h=e.Buffer=n(2847),d=e.Uint8Array=n(5188),f=e.prototype=n(3043);function l(t){return m(this).alloc(t)}var p=v("ArrayBuffer");function y(t){var e=3*t.length,n=l.call(this,e),r=f.write.call(n,t);return e!==r&&(n=f.slice.call(n,0,r)),n}function m(t){return a(t)?h:c(t)?d:s(t)?u:i?h:o?d:u}function g(){return!1}function v(t,e){return t="[object "+t+"]",function(n){return null!=n&&{}.toString.call(e?n[e]:n)===t}}},8704:(t,e,n)=>{var r=n(4634);e.createCodec=a,e.install=function(t){for(var e in t)o.prototype[e]=s(o.prototype[e],t[e])},e.filter=function(t){return r(t)?function(t){return t=t.slice(),function(n){return t.reduce(e,n)};function e(t,e){return e(t)}}(t):t};var i=n(8204);function o(t){if(!(this instanceof o))return new o(t);this.options=t,this.init()}function s(t,e){return t&&e?function(){return t.apply(this,arguments),e.apply(this,arguments)}:t||e}function a(t){return new o(t)}o.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=i.Uint8Array),this},e.preset=a({preset:!0})},8884:(t,e,n)=>{n(3294),n(897),e.codec={preset:n(8704).preset}},3785:(t,e,n)=>{e.n=i;var r=n(3294).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}n(3614).I.mixin(i.prototype),i.prototype.codec=r,i.prototype.fetch=function(){return this.codec.decode(this)}},7402:(t,e,n)=>{e.decode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=n(3785).n},8762:(t,e,n)=>{e.Decoder=o;var r=n(1611),i=n(3785).n;function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}o.prototype=new i,r.mixin(o.prototype),o.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},o.prototype.push=function(t){this.emit("data",t)},o.prototype.end=function(t){this.decode(t),this.emit("end")}},3357:(t,e,n)=>{e.D=i;var r=n(897).preset;function i(t){if(!(this instanceof i))return new i(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}n(3614).w.mixin(i.prototype),i.prototype.codec=r,i.prototype.write=function(t){this.codec.encode(this,t)}},7870:(t,e,n)=>{e.encode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=n(3357).D},7158:(t,e,n)=>{e.Encoder=o;var r=n(1611),i=n(3357).D;function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}o.prototype=new i,r.mixin(o.prototype),o.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},o.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},816:(t,e,n)=>{e.u=function t(e,n){if(!(this instanceof t))return new t(e,n);this.buffer=r.from(e),this.type=n};var r=n(8204)},8236:(t,e,n)=>{e.setExtPackers=function(t){t.addExtPacker(14,Error,[d,c]),t.addExtPacker(1,EvalError,[d,c]),t.addExtPacker(2,RangeError,[d,c]),t.addExtPacker(3,ReferenceError,[d,c]),t.addExtPacker(4,SyntaxError,[d,c]),t.addExtPacker(5,TypeError,[d,c]),t.addExtPacker(6,URIError,[d,c]),t.addExtPacker(10,RegExp,[h,c]),t.addExtPacker(11,Boolean,[u,c]),t.addExtPacker(12,String,[u,c]),t.addExtPacker(13,Date,[Number,c]),t.addExtPacker(15,Number,[u,c]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,s),t.addExtPacker(18,Uint8Array,s),t.addExtPacker(19,Int16Array,s),t.addExtPacker(20,Uint16Array,s),t.addExtPacker(21,Int32Array,s),t.addExtPacker(22,Uint32Array,s),t.addExtPacker(23,Float32Array,s),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,s),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,s),t.addExtPacker(26,ArrayBuffer,s),t.addExtPacker(29,DataView,s)),i.hasBuffer&&t.addExtPacker(27,o,i.from)};var r,i=n(8204),o=i.global,s=i.Uint8Array.from,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(t){return r||(r=n(7870).encode),r(t)}function u(t){return t.valueOf()}function h(t){(t=RegExp.prototype.toString.call(t).split("/")).shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function d(t){var e={};for(var n in a)e[n]=t[n];return e}},5623:(t,e,n)=>{e.setExtUnpackers=function(t){t.addExtUnpacker(14,[a,u(Error)]),t.addExtUnpacker(1,[a,u(EvalError)]),t.addExtUnpacker(2,[a,u(RangeError)]),t.addExtUnpacker(3,[a,u(ReferenceError)]),t.addExtUnpacker(4,[a,u(SyntaxError)]),t.addExtUnpacker(5,[a,u(TypeError)]),t.addExtUnpacker(6,[a,u(URIError)]),t.addExtUnpacker(10,[a,c]),t.addExtUnpacker(11,[a,h(Boolean)]),t.addExtUnpacker(12,[a,h(String)]),t.addExtUnpacker(13,[a,h(Date)]),t.addExtUnpacker(15,[a,h(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,h(Int8Array)),t.addExtUnpacker(18,h(Uint8Array)),t.addExtUnpacker(19,[d,h(Int16Array)]),t.addExtUnpacker(20,[d,h(Uint16Array)]),t.addExtUnpacker(21,[d,h(Int32Array)]),t.addExtUnpacker(22,[d,h(Uint32Array)]),t.addExtUnpacker(23,[d,h(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[d,h(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,h(Uint8ClampedArray)),t.addExtUnpacker(26,d),t.addExtUnpacker(29,[d,h(DataView)])),i.hasBuffer&&t.addExtUnpacker(27,h(o))};var r,i=n(8204),o=i.global,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function a(t){return r||(r=n(7402).decode),r(t)}function c(t){return RegExp.apply(null,t)}function u(t){return function(e){var n=new t;for(var r in s)n[r]=e[r];return n}}function h(t){return function(e){return new t(e)}}function d(t){return new Uint8Array(t).buffer}},1325:(t,e,n)=>{n(3294),n(897),e.createCodec=n(8704).createCodec},3614:(t,e,n)=>{e.I=o,e.w=s;var r=n(8204),i="BUFFER_SHORTAGE";function o(){if(!(this instanceof o))return new o}function s(){if(!(this instanceof s))return new s}function a(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function c(t){(this.buffers||(this.buffers=[])).push(t)}function u(t){return function(e){for(var n in t)e[n]=t[n];return e}}o.mixin=u({bufferish:r,write:function(t){var e=this.offset?r.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:function(){throw new Error("method not implemented: fetch()")},flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(t){if(t&&t.message!=i)throw t;this.offset=e;break}this.push(t)}},push:c,pull:function(){return(this.buffers||(this.buffers=[])).shift()},read:a,reserve:function(t){var e=this.offset,n=e+t;if(n>this.buffer.length)throw new Error(i);return this.offset=n,e},offset:0}),o.mixin(o.prototype),s.mixin=u({bufferish:r,write:function(){throw new Error("method not implemented: write()")},fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return r.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:c,pull:function(){var t=this.buffers||(this.buffers=[]),e=t.length>1?this.bufferish.concat(t):t[0];return t.length=0,e},read:a,reserve:function(t){var e=0|t;if(this.buffer){var n=this.buffer.length,r=0|this.offset,i=r+e;if(i<n)return this.offset=i,r;this.flush(),t=Math.max(t,Math.min(2*n,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;if(e>this.minBufferSize)this.flush(),this.push(t);else{var n=this.reserve(e);r.prototype.copy.call(t,this.buffer,n)}},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),s.mixin(s.prototype)},3294:(t,e,n)=>{var r=n(816).u,i=n(5623),o=n(7970).readUint8,s=n(2004),a=n(8704);function c(){var t=this.options;return this.decode=function(t){var e=s.getReadToken(t);return function(t){var n=o(t),r=e[n];if(!r)throw new Error("Invalid type: "+(n?"0x"+n.toString(16):n));return r(t)}}(t),t&&t.preset&&i.setExtUnpackers(this),this}a.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=a.filter(e)},getExtUnpacker:function(t){return(this.extUnpackers||(this.extUnpackers=[]))[t]||function(e){return new r(e,t)}},init:c}),e.preset=c.call(a.preset)},7970:(t,e,n)=>{var r=n(251),i=n(8305),o=i.Uint64BE,s=i.Int64BE;e.getReadFormat=function(t){var e=a.hasArrayBuffer&&t&&t.binarraybuffer,n=t&&t.int64;return{map:u&&t&&t.usemap?f:d,array:l,str:p,bin:e?m:y,ext:g,uint8:v,uint16:w,uint32:k,uint64:E(8,n?B:A),int8:b,int16:x,int32:_,int64:E(8,n?T:C),float32:E(4,R),float64:E(8,S)}},e.readUint8=v;var a=n(8204),c=n(3043),u="undefined"!=typeof Map,h=!0;function d(t,e){var n,r={},i=new Array(e),o=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)i[n]=s(t),o[n]=s(t);for(n=0;n<e;n++)r[i[n]]=o[n];return r}function f(t,e){var n,r=new Map,i=new Array(e),o=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)i[n]=s(t),o[n]=s(t);for(n=0;n<e;n++)r.set(i[n],o[n]);return r}function l(t,e){for(var n=new Array(e),r=t.codec.decode,i=0;i<e;i++)n[i]=r(t);return n}function p(t,e){var n=t.reserve(e),r=n+e;return c.toString.call(t.buffer,"utf-8",n,r)}function y(t,e){var n=t.reserve(e),r=n+e,i=c.slice.call(t.buffer,n,r);return a.from(i)}function m(t,e){var n=t.reserve(e),r=n+e,i=c.slice.call(t.buffer,n,r);return a.Uint8Array.from(i).buffer}function g(t,e){var n=t.reserve(e+1),r=t.buffer[n++],i=n+e,o=t.codec.getExtUnpacker(r);if(!o)throw new Error("Invalid ext type: "+(r?"0x"+r.toString(16):r));return o(c.slice.call(t.buffer,n,i))}function v(t){var e=t.reserve(1);return t.buffer[e]}function b(t){var e=t.reserve(1),n=t.buffer[e];return 128&n?n-256:n}function w(t){var e=t.reserve(2),n=t.buffer;return n[e++]<<8|n[e]}function x(t){var e=t.reserve(2),n=t.buffer,r=n[e++]<<8|n[e];return 32768&r?r-65536:r}function k(t){var e=t.reserve(4),n=t.buffer;return 16777216*n[e++]+(n[e++]<<16)+(n[e++]<<8)+n[e]}function _(t){var e=t.reserve(4),n=t.buffer;return n[e++]<<24|n[e++]<<16|n[e++]<<8|n[e]}function E(t,e){return function(n){var r=n.reserve(t);return e.call(n.buffer,r,h)}}function A(t){return new o(this,t).toNumber()}function C(t){return new s(this,t).toNumber()}function B(t){return new o(this,t)}function T(t){return new s(this,t)}function R(t){return r.read(this,t,!1,23,4)}function S(t){return r.read(this,t,!1,52,8)}},2004:(t,e,n)=>{var r=n(7970);function i(t){var e,n=new Array(256);for(e=0;e<=127;e++)n[e]=o(e);for(e=128;e<=143;e++)n[e]=a(e-128,t.map);for(e=144;e<=159;e++)n[e]=a(e-144,t.array);for(e=160;e<=191;e++)n[e]=a(e-160,t.str);for(n[192]=o(null),n[193]=null,n[194]=o(!1),n[195]=o(!0),n[196]=s(t.uint8,t.bin),n[197]=s(t.uint16,t.bin),n[198]=s(t.uint32,t.bin),n[199]=s(t.uint8,t.ext),n[200]=s(t.uint16,t.ext),n[201]=s(t.uint32,t.ext),n[202]=t.float32,n[203]=t.float64,n[204]=t.uint8,n[205]=t.uint16,n[206]=t.uint32,n[207]=t.uint64,n[208]=t.int8,n[209]=t.int16,n[210]=t.int32,n[211]=t.int64,n[212]=a(1,t.ext),n[213]=a(2,t.ext),n[214]=a(4,t.ext),n[215]=a(8,t.ext),n[216]=a(16,t.ext),n[217]=s(t.uint8,t.str),n[218]=s(t.uint16,t.str),n[219]=s(t.uint32,t.str),n[220]=s(t.uint16,t.array),n[221]=s(t.uint32,t.array),n[222]=s(t.uint16,t.map),n[223]=s(t.uint32,t.map),e=224;e<=255;e++)n[e]=o(e-256);return n}function o(t){return function(){return t}}function s(t,e){return function(n){var r=t(n);return e(n,r)}}function a(t,e){return function(n){return e(n,t)}}e.getReadToken=function(t){var e=r.getReadFormat(t);return t&&t.useraw?function(t){var e,n=i(t).slice();for(n[217]=n[196],n[218]=n[197],n[219]=n[198],e=160;e<=191;e++)n[e]=a(e-160,t.bin);return n}(e):i(e)}},897:(t,e,n)=>{var r=n(816).u,i=n(8236),o=n(3398),s=n(8704);function a(){var t=this.options;return this.encode=function(t){var e=o.getWriteType(t);return function(t,n){var r=e[typeof n];if(!r)throw new Error('Unsupported type "'+typeof n+'": '+n);r(t,n)}}(t),t&&t.preset&&i.setExtPackers(this),this}s.install({addExtPacker:function(t,e,n){n=s.filter(n);var i=e.name;function o(e){return n&&(e=n(e)),new r(e,t)}i&&"Object"!==i?(this.extPackers||(this.extPackers={}))[i]=o:(this.extEncoderList||(this.extEncoderList=[])).unshift([e,o])},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={}),n=t.constructor,r=n&&n.name&&e[n.name];if(r)return r;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(n===a[0])return a[1]}},init:a}),e.preset=a.call(s.preset)},1685:(t,e,n)=>{var r=n(251),i=n(8305),o=i.Uint64BE,s=i.Int64BE,a=n(4040).h,c=n(8204),u=c.global,h=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u&&!u.TYPED_ARRAY_SUPPORT,d=c.hasBuffer&&u.prototype||{};function f(){var t=a.slice();return t[196]=l(196),t[197]=p(197),t[198]=y(198),t[199]=l(199),t[200]=p(200),t[201]=y(201),t[202]=m(202,4,d.writeFloatBE||b,!0),t[203]=m(203,8,d.writeDoubleBE||w,!0),t[204]=l(204),t[205]=p(205),t[206]=y(206),t[207]=m(207,8,g),t[208]=l(208),t[209]=p(209),t[210]=y(210),t[211]=m(211,8,v),t[217]=l(217),t[218]=p(218),t[219]=y(219),t[220]=p(220),t[221]=y(221),t[222]=p(222),t[223]=y(223),t}function l(t){return function(e,n){var r=e.reserve(2),i=e.buffer;i[r++]=t,i[r]=n}}function p(t){return function(e,n){var r=e.reserve(3),i=e.buffer;i[r++]=t,i[r++]=n>>>8,i[r]=n}}function y(t){return function(e,n){var r=e.reserve(5),i=e.buffer;i[r++]=t,i[r++]=n>>>24,i[r++]=n>>>16,i[r++]=n>>>8,i[r]=n}}function m(t,e,n,r){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=t,n.call(i.buffer,o,s,r)}}function g(t,e){new o(this,e,t)}function v(t,e){new s(this,e,t)}function b(t,e){r.write(this,t,e,!1,23,4)}function w(t,e){r.write(this,t,e,!1,52,8)}e.getWriteToken=function(t){return t&&t.uint8array?((e=f())[202]=m(202,4,b),e[203]=m(203,8,w),e):h||c.hasBuffer&&t&&t.safe?function(){var t=a.slice();return t[196]=m(196,1,u.prototype.writeUInt8),t[197]=m(197,2,u.prototype.writeUInt16BE),t[198]=m(198,4,u.prototype.writeUInt32BE),t[199]=m(199,1,u.prototype.writeUInt8),t[200]=m(200,2,u.prototype.writeUInt16BE),t[201]=m(201,4,u.prototype.writeUInt32BE),t[202]=m(202,4,u.prototype.writeFloatBE),t[203]=m(203,8,u.prototype.writeDoubleBE),t[204]=m(204,1,u.prototype.writeUInt8),t[205]=m(205,2,u.prototype.writeUInt16BE),t[206]=m(206,4,u.prototype.writeUInt32BE),t[207]=m(207,8,g),t[208]=m(208,1,u.prototype.writeInt8),t[209]=m(209,2,u.prototype.writeInt16BE),t[210]=m(210,4,u.prototype.writeInt32BE),t[211]=m(211,8,v),t[217]=m(217,1,u.prototype.writeUInt8),t[218]=m(218,2,u.prototype.writeUInt16BE),t[219]=m(219,4,u.prototype.writeUInt32BE),t[220]=m(220,2,u.prototype.writeUInt16BE),t[221]=m(221,4,u.prototype.writeUInt32BE),t[222]=m(222,2,u.prototype.writeUInt16BE),t[223]=m(223,4,u.prototype.writeUInt32BE),t}():f();var e}},3398:(t,e,n)=>{var r=n(4634),i=n(8305),o=i.Uint64BE,s=i.Int64BE,a=n(8204),c=n(3043),u=n(1685),h=n(4040).h,d=n(816).u,f="undefined"!=typeof Uint8Array,l="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,e.getWriteType=function(t){var e,n=u.getWriteToken(t),i=t&&t.useraw,y=f&&t&&t.binarraybuffer,m=y?a.isArrayBuffer:a.isBuffer,g=y?function(t,e){x(t,new Uint8Array(e))}:x,v=l&&t&&t.usemap?function(t,e){if(!(e instanceof Map))return k(t,e);var r=e.size;n[r<16?128+r:r<=65535?222:223](t,r);var i=t.codec.encode;e.forEach((function(e,n,r){i(t,n),i(t,e)}))}:k;return{boolean:function(t,e){n[e?195:194](t,e)},function:w,number:function(t,e){var r=0|e;e===r?n[-32<=r&&r<=127?255&r:0<=r?r<=255?204:r<=65535?205:206:-128<=r?208:-32768<=r?209:210](t,r):n[203](t,e)},object:i?function(t,e){if(m(e))return function(t,e){var r=e.length;n[r<32?160+r:r<=65535?218:219](t,r),t.send(e)}(t,e);b(t,e)}:b,string:(e=i?function(t){return t<32?1:t<=65535?3:5}:function(t){return t<32?1:t<=255?2:t<=65535?3:5},function(t,r){var i=r.length,o=5+3*i;t.offset=t.reserve(o);var s=t.buffer,a=e(i),u=t.offset+a;i=c.write.call(s,r,u);var h=e(i);if(a!==h){var d=u+h-a,f=u+i;c.copy.call(s,s,d,u,f)}n[1===h?160+i:h<=3?215+h:219](t,i),t.offset+=i}),symbol:w,undefined:w};function b(t,e){if(null===e)return w(t,e);if(m(e))return g(t,e);if(r(e))return function(t,e){var r=e.length;n[r<16?144+r:r<=65535?220:221](t,r);for(var i=t.codec.encode,o=0;o<r;o++)i(t,e[o])}(t,e);if(o.isUint64BE(e))return function(t,e){n[207](t,e.toArray())}(t,e);if(s.isInt64BE(e))return function(t,e){n[211](t,e.toArray())}(t,e);var i=t.codec.getExtPacker(e);if(i&&(e=i(e)),e instanceof d)return function(t,e){var r=e.buffer,i=r.length,o=p[i]||(i<255?199:i<=65535?200:201);n[o](t,i),h[e.type](t),t.send(r)}(t,e);v(t,e)}function w(t,e){n[192](t,e)}function x(t,e){var r=e.length;n[r<255?196:r<=65535?197:198](t,r),t.send(e)}function k(t,e){var r=Object.keys(e),i=r.length;n[i<16?128+i:i<=65535?222:223](t,i);var o=t.codec.encode;r.forEach((function(n){o(t,n),o(t,e[n])}))}}},4040:(t,e)=>{for(var n=e.h=new Array(256),r=0;r<=255;r++)n[r]=i(r);function i(t){return function(e){var n=e.reserve(1);e.buffer[n]=t}}},5072:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],a=0;a<t.length;a++){var c=t[a],u=r.base?c[0]+r.base:c[0],h=o[u]||0,d="".concat(u," ").concat(h);o[u]=h+1;var f=n(d),l={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(l);else{var p=i(l,r);r.byIndex=a,e.splice(a,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=n(o[s]);e[a].references--}for(var c=r(t,i),u=0;u<o.length;u++){var h=n(o[u]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}o=c}}},7659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},5650:(t,e,n)=>{"use strict";t.exports=n.p+"2975624e0a3d6917e70c.jpg"},8970:(t,e,n)=>{"use strict";t.exports=n.p+"e3440aea6f6e7dc535a8.jpg"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var t={};function e(t,e,n,r){const i=document.createElement(`${e}`);return i.classList.add(`${n}`),t.appendChild(i),r&&(i.textContent=r),i}function r(t){for(;t.firstChild;)t.removeChild(t.firstChild)}n.r(t),n.d(t,{Decoder:()=>Yt,Encoder:()=>$t,PacketType:()=>Dt,protocol:()=>Ft});class i{constructor(t,e,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5;this.canvas=t,this.ctx=e,this.players=n,this.rounds=r,this.ball=i,this.winner=o,this.isPaused=!1,this.maxRounds=s}updateRounds(){this.rounds+=1}setRounds(t){this.rounds=t}setWinner(t){this.winner=t}changeMaxRounds(t){this.maxRounds=t}}const o=n.p+"209d73999dc4663f94b4.png";class s{constructor(t,e,n,r){this.direction=t,this.positionX=e,this.positionY=n,this.radius=r,this.velocity=250,this.image=new Image,this.image.src=o}reset(t){for(this.positionX=t.width/2,this.positionY=t.height/2,this.direction={x:0};Math.abs(this.direction.x)<=.2||Math.abs(this.direction.x)>=.9;){const t=(0,e=2*Math.PI,Math.random()*(e-0)+0);this.direction={x:Math.cos(t),y:Math.sin(t)}}var e;this.velocity=250}checkPaddleCollision(t){if(this.positionX+this.radius>=t.x&&this.positionX-this.radius<=t.x+t.width&&this.positionY+this.radius>=t.y&&this.positionY-this.radius<=t.y+t.height){const e=(t.y+t.height/2-this.positionY)/(t.height/2)*Math.PI/4;this.direction={x:Math.cos(e),y:Math.sin(e)},"right"===t.type&&(this.direction.x*=-1)}}moveBall(t,e,n,r){return this.positionX+=this.direction.x*this.velocity*r,this.positionY+=this.direction.y*this.velocity*r,this.velocity+=15*r,this.positionX-this.radius<=0?(n.updateScore(),!0):this.positionX+this.radius>=t.width?(e.updateScore(),!0):((this.positionY-this.radius<=0||this.positionY+this.radius>=t.height)&&(this.direction.y*=-1),this.checkPaddleCollision(e.paddle),this.checkPaddleCollision(n.paddle),!1)}draw(t){t.drawImage(this.image,this.positionX-this.radius,this.positionY-this.radius,2*this.radius,2*this.radius)}}class a{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type=t,this.name=e,this.paddle=n,this.score=r}updateScore(){this.score+=1}setScore(t){this.score=t}}const c=n.p+"1c534750359dda343d49.png";class u{constructor(t,e,n,r,i,o){this.x=t,this.y=e,this.type=n,this.speed=r,this.direction=0,this.width=i,this.height=o,this.image=new Image,this.image.src=c}checkCollision(t){this.y<0?this.y=0:this.y+this.height>t.height&&(this.y=t.height-this.height)}movePaddle(t){this.y+=this.speed*this.direction,this.checkCollision(t)}moveBotPaddle(t){let{canvas:e,ball:n}=t;const r=this.y+this.height/2,i=n.positionY;r<i-10?this.y+=this.speed:r>i+10&&(this.y-=this.speed),this.checkCollision(e)}reset(t){"left"===this.type?(this.x=40,this.y=t.height/2-50):(this.x=t.width-80,this.y=t.height/2-50)}draw(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}}const h=document.querySelector("#content");function d(t,e){let n;n=document.querySelector("#toast"),n||(n=document.createElement("div"),n.id="toast",h.appendChild(n)),n.textContent=t,n.className=e?"toast alert show":"toast show",setTimeout((()=>{n.classList.remove("show"),n.classList.remove("alert")}),3e3)}function f(t){const n=e(t,"button","returnButton","Return to main menu");return n.addEventListener("click",(()=>{ge()})),n}const l=document.querySelector("#content");function p(t,n){r(l);const i=e(l,"div","gameContainer"),o=e(i,"div","canvasContainer"),s=document.createElement("canvas");s.classList.add("canvas"),o.appendChild(s),s.width=800,s.height=400;const a=document.createElement("canvas");a.classList.add("scoreCanvas"),i.appendChild(a),a.width=800,a.height=100,function(t){const n=e(document.querySelector(".gameContainer"),"dialog","dialog"),r=e(n,"div","dialogContainer"),i=e(r,"div","idContainer"),o=(e(i,"div","idText","Your game id:"),e(i,"div","gameId",`${t}`));o.addEventListener("click",(()=>{const e=`${window.location.origin}?gameId=${t}`;navigator.clipboard.writeText(e).then((()=>{d(`Game url copied to clipboard: ${e}`)})).catch((t=>{d("Failed to copy text: ",t)}))})),e(o,"span","tooltiptext","Left-click to copy game url"),e(r,"div","dialogTitle","Waiting for other player..."),e(r,"div","spinner"),e(r,"button","closeButton","Cancel").addEventListener("click",(()=>{n.close(),ge(),d("You disconnected from the game")}))}(t),f(e(i,"div","buttonContainer")).addEventListener("click",(()=>{n&&(n.emit("leaveGame",(()=>{d("You disconnected from the game"),n.disconnect()})),setTimeout((()=>n.disconnect()),100))})),window.addEventListener("beforeunload",(()=>{n&&(n.emit("leaveGame",(()=>{d("You disconnected from the game"),n.disconnect()})),setTimeout((()=>n.disconnect()),100))}))}function y(t,e,n,r){t.font="48px 'Ubuntu Mono', monospace",t.textAlign="center",t.textBaseline="middle",t.fillStyle="white",t.fillText(e,n,r)}function m(t,e){document.addEventListener("keydown",(n=>{87===n.keyCode?t.paddle.direction=-1:83===n.keyCode&&(t.paddle.direction=1),e&&("ArrowUp"===n.key?e.paddle.direction=-1:"ArrowDown"===n.key&&(e.paddle.direction=1))})),document.addEventListener("keyup",(n=>{87!==n.keyCode&&83!==n.keyCode||(t.paddle.direction=0),e&&("ArrowUp"!==n.key&&"ArrowDown"!==n.key||(e.paddle.direction=0))}))}function g(t,e){const n=document.querySelector(".scoreCanvas");if(n){const r=n.getContext("2d");r.clearRect(0,0,r.canvas.width,r.canvas.height),r.font="30px Arial",r.textAlign="center",r.textBaseline="middle";const i=r.canvas.width/2,o=r.canvas.height/2;if("It's a tie!"===t)r.fillText(`${t}`,i,o);else{const n=e.find((e=>e.name===t));r.fillText(`${t} won with score ${n.score}`,i,o)}}}function v(t){const e=document.querySelector(".scoreCanvas");if(e){const n=e.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height),n.font="30px 'Ubuntu Mono', monospace",n.textAlign="center",n.fillStyle="white",n.fillText(`${t.players[0].name}: ${t.players[0].score}`,n.canvas.width/4,n.canvas.height/2),n.fillText(`Round: ${t.rounds}`,2*n.canvas.width/4,n.canvas.height/2),n.fillText(`${t.players[1].name}: ${t.players[1].score}`,3*n.canvas.width/4,n.canvas.height/2)}}let b,w,x,k,_=!1;function E(){k&&(clearInterval(k),_=!0,k=null),w&&(_=!0,cancelAnimationFrame(w),w=null),x&&(_=!0,cancelAnimationFrame(x),x=null)}function A(t,e){if(_||t.isPaused)return;if(!document.querySelector(".canvas"))return;const{ctx:n}=t,{canvas:r}=t,i=t.players[0],o=t.players[1],{ball:s}=t;n.clearRect(0,0,r.width,r.height);const a=(e-b)/1e3;if(b=e,i.paddle.movePaddle(r),"bot"===o.type?o.paddle.moveBotPaddle(t):o.paddle.movePaddle(r),i.paddle.draw(n),o.paddle.draw(n),s.draw(n),s.moveBall(r,i,o,a)){if(t.isPaused=!0,t.updateRounds(),v(t),t.rounds===t.maxRounds){let e;return e=i.score>o.score?i.name:i.score<o.score?o.name:"It's a tie!",E(),void g(e,t.players)}C(t),s.reset(r),i.paddle.reset(r),o.paddle.reset(r)}t.isPaused||(w=requestAnimationFrame((e=>A(t,e))))}function C(t){if(_)return;if(!document.querySelector(".canvas"))return;let e=3;const{ctx:n}=t,{canvas:r}=t,i=t.players[0],o=t.players[1];n.clearRect(0,0,r.width,r.height),i.paddle.draw(n),o.paddle.draw(n),setTimeout((()=>{y(n,e,r.width/2,r.height/2),k=setInterval((()=>{e-=1,n.clearRect(0,0,r.width,r.height),i.paddle.draw(n),o.paddle.draw(n),e>0?y(n,e,r.width/2,r.height/2):(clearInterval(k),t.isPaused=!1,x=requestAnimationFrame((e=>{b=e,A(t,e)})))}),1e3)}),100)}function B(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=!1;E(),p();const r=document.querySelector(".canvas"),o=r.getContext("2d"),c=new u(40,r.height/2-50,"left",7,40,100),h=new a("player","Player 1",c,0),d=new u(r.width-80,r.height/2-50,"right",7,40,100),f=t?new a("bot","Bot",d,0):new a("player","Player 2",d,0),l=[h,f],g=new s({x:.75,y:.5},r.width/2,r.height/2,20);g.reset(r);const b=new i(r,o,l,0,g,!1,e);h.paddle.draw(o),f.paddle.draw(o),v(b),y(o,"Press ENTER to start",r.width/2,r.height/2),m(h,f),v(b),document.addEventListener("keypress",(t=>{"Enter"!==t.key||n||(_=!1,n=!0,C(b))}))}let T=5;function R(){return T}function S(t){const n=e(t,"dialog","dialog");n.id="maxRoundsDialog";const r=e(n,"div","dialogContainer");e(r,"button","closeButton","Close").addEventListener("click",(()=>{n.close()})),e(r,"div","dialogTitle","Choose max rounds");const i=document.createElement("form");i.id="gameRoundsForm",i.classList.add("dialogForm"),i.method="get",r.appendChild(i);const o=e(i,"div","formElement"),s=document.createElement("label");s.setAttribute("for","rounds"),s.textContent="Max rounds";const a=document.createElement("input");return a.id="rounds",a.name="rounds",a.type="number",a.min=3,a.max=20,a.placeholder="5",a.value="5",a.required=!0,o.appendChild(s),o.appendChild(a),e(i,"button","confirmRoundsButton","Save").type="submit",i.addEventListener("submit",(t=>{t.preventDefault(),function(t){T=t}(parseInt(a.value,10)),n.returnValue="default",n.close()})),n}const P=document.querySelector("#content"),U=Object.create(null);U.open="0",U.close="1",U.ping="2",U.pong="3",U.message="4",U.upgrade="5",U.noop="6";const O=Object.create(null);Object.keys(U).forEach((t=>{O[U[t]]=t}));const I={type:"error",data:"parser error"},L="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),N="function"==typeof ArrayBuffer,M=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,q=({type:t,data:e},n,r)=>L&&e instanceof Blob?n?r(e):j(e,r):N&&(e instanceof ArrayBuffer||M(e))?n?r(e):j(new Blob([e]),r):r(U[t]+(e||"")),j=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function F(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let D;const $="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)$["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const V="function"==typeof ArrayBuffer,Y=(t,e)=>{if("string"!=typeof t)return{type:"message",data:H(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:z(t.substring(1),e)}:O[n]?t.length>1?{type:O[n],data:t.substring(1)}:{type:O[n]}:I},z=(t,e)=>{if(V){const n=(t=>{let e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);const u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=$[t.charCodeAt(e)],r=$[t.charCodeAt(e+1)],i=$[t.charCodeAt(e+2)],o=$[t.charCodeAt(e+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|i>>2,h[c++]=(3&i)<<6|63&o;return u})(t);return H(n,e)}return{base64:!0,data:t}},H=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,W=String.fromCharCode(30);let G;function X(t){return t.reduce(((t,e)=>t+e.length),0)}function K(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function J(t){if(t)return function(t){for(var e in J.prototype)t[e]=J.prototype[e];return t}(t)}J.prototype.on=J.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},J.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},J.prototype.off=J.prototype.removeListener=J.prototype.removeAllListeners=J.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},J.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},J.prototype.emitReserved=J.prototype.emit,J.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},J.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Q="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Z="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function tt(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const et=Z.setTimeout,nt=Z.clearTimeout;function rt(t,e){e.useNativeTimers?(t.setTimeoutFn=et.bind(Z),t.clearTimeoutFn=nt.bind(Z)):(t.setTimeoutFn=Z.setTimeout.bind(Z),t.clearTimeoutFn=Z.clearTimeout.bind(Z))}function it(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ot extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class st extends J{constructor(t){super(),this.writable=!1,rt(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new ot(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Y(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}class at extends st{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(W),r=[];for(let t=0;t<n.length;t++){const i=Y(n[t],e);if(r.push(i),"error"===i.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{q(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(W))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=it()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let ct=!1;try{ct="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const ut=ct;function ht(){}class dt extends at{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class ft extends J{constructor(t,e,n){super(),this.createRequest=t,rt(this,n),this._opts=n,this._method=n.method||"GET",this._uri=e,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const e=tt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(e);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(t){return void this.setTimeoutFn((()=>{this._onError(t)}),0)}"undefined"!=typeof document&&(this._index=ft.requestsCount++,ft.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ht,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete ft.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function lt(){for(let t in ft.requests)ft.requests.hasOwnProperty(t)&&ft.requests[t].abort()}ft.requestsCount=0,ft.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",lt):"function"==typeof addEventListener&&addEventListener("onpagehide"in Z?"pagehide":"unload",lt,!1));const pt=function(){const t=yt({xdomain:!1});return t&&null!==t.responseType}();function yt(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||ut))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Z[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}const mt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class gt extends st{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,n=mt?{}:tt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;q(n,this.supportsBinary,(t=>{try{this.doWrite(n,t)}catch(t){}r&&Q((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=it()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const vt=Z.WebSocket||Z.MozWebSocket,bt={websocket:class extends gt{createSocket(t,e,n){return mt?new vt(t,e,n):e?new vt(t,e):new vt(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends st{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){G||(G=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(X(n)<1)break;const t=K(n,1);o=128==(128&t[0]),i=127&t[0],r=i<126?3:126===i?1:2}else if(1===r){if(X(n)<2)break;const t=K(n,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(X(n)<8)break;const t=K(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(I);break}i=o*Math.pow(2,32)+e.getUint32(4),r=3}else{if(X(n)<i)break;const t=K(n,i);a.enqueue(Y(o?t:G.decode(t),e)),r=0}if(0===i||i>t){a.enqueue(I);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=new TransformStream({transform(t,e){!function(t,e){L&&t.data instanceof Blob?t.data.arrayBuffer().then(F).then(e):N&&(t.data instanceof ArrayBuffer||M(t.data))?e(F(t.data)):q(t,!1,(t=>{D||(D=new TextEncoder),e(D.encode(t))}))}(t,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,r)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)}))}});r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;this._writer.write(n).then((()=>{r&&Q((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends dt{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=pt&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ft(yt,this.uri(),t)}}},wt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kt(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=wt.exec(t||""),o={},s=14;for(;s--;)o[xt[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1),"/"==e.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}const _t="function"==typeof addEventListener&&"function"==typeof removeEventListener,Et=[];_t&&addEventListener("offline",(()=>{Et.forEach((t=>t()))}),!1);class At extends J{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const n=kt(t);e.hostname=n.host,e.secure="https"===n.protocol||"wss"===n.protocol,e.port=n.port,n.query&&(e.query=n.query)}else e.host&&(e.hostname=kt(e.host).host);rt(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}(this.opts.query)),_t&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Et.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&At.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",At.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Q((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,n){return this._sendPacket("message",t,e,n),this}send(t,e,n){return this._sendPacket("message",t,e,n),this}_sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}_onError(t){if(At.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_t&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=Et.indexOf(this._offlineEventListener);-1!==t&&Et.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}At.protocol=4;class Ct extends At{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;At.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;At.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,u(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&i()}const u=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};e.once("open",r),e.once("error",o),e.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}class Bt extends Ct{constructor(t,e={}){const n="object"==typeof t?t:e;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map((t=>bt[t])).filter((t=>!!t))),super(t,n)}}const Tt="function"==typeof ArrayBuffer,Rt=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,St=Object.prototype.toString,Pt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===St.call(Blob),Ut="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===St.call(File);function Ot(t){return Tt&&(t instanceof ArrayBuffer||Rt(t))||Pt&&t instanceof Blob||Ut&&t instanceof File}function It(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(It(t[e]))return!0;return!1}if(Ot(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return It(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&It(t[e]))return!0;return!1}function Lt(t){const e=[],n=t.data,r=t;return r.data=Nt(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Nt(t,e){if(!t)return t;if(Ot(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Nt(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Nt(t[r],e));return n}return t}function Mt(t,e){return t.data=qt(t.data,e),delete t.attachments,t}function qt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=qt(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=qt(t[n],e));return t}const jt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ft=5;var Dt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Dt||(Dt={}));class $t{constructor(t){this.replacer=t}encode(t){return t.type!==Dt.EVENT&&t.type!==Dt.ACK||!It(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Dt.EVENT?Dt.BINARY_EVENT:Dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Dt.BINARY_EVENT&&t.type!==Dt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Lt(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function Vt(t){return"[object Object]"===Object.prototype.toString.call(t)}class Yt extends J{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Dt.BINARY_EVENT;n||e.type===Dt.BINARY_ACK?(e.type=n?Dt.EVENT:Dt.ACK,this.reconstructor=new zt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Ot(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Dt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Dt.BINARY_EVENT||n.type===Dt.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!Yt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Dt.CONNECT:return Vt(e);case Dt.DISCONNECT:return void 0===e;case Dt.CONNECT_ERROR:return"string"==typeof e||Vt(e);case Dt.EVENT:case Dt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===jt.indexOf(e[0]));case Dt.ACK:case Dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Mt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ht(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Wt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Gt extends J{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ht(t,"open",this.onopen.bind(this)),Ht(t,"packet",this.onpacket.bind(this)),Ht(t,"error",this.onerror.bind(this)),Ht(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,r,i;if(Wt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:Dt.EVENT,data:e,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),o.id=t}const s=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,a=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!s||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r),o=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise(((n,r)=>{const i=(t,e)=>t?r(t):n(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n===this._queue[0])return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dt.EVENT:case Dt.BINARY_EVENT:this.onevent(t);break;case Dt.ACK:case Dt.BINARY_ACK:this.onack(t);break;case Dt.DISCONNECT:this.ondisconnect();break;case Dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:Dt.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Xt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Xt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Xt.prototype.reset=function(){this.attempts=0},Xt.prototype.setMin=function(t){this.ms=t},Xt.prototype.setMax=function(t){this.max=t},Xt.prototype.setJitter=function(t){this.jitter=t};class Kt extends J{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,rt(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Xt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Bt(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Ht(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=Ht(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ht(t,"ping",this.onping.bind(this)),Ht(t,"data",this.ondata.bind(this)),Ht(t,"error",this.onerror.bind(this)),Ht(t,"close",this.onclose.bind(this)),Ht(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){Q((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Gt(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jt={};function Qt(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=kt(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Jt[i]&&o in Jt[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?a=new Kt(r,e):(Jt[i]||(Jt[i]=new Kt(r,e)),a=Jt[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Qt,{Manager:Kt,Socket:Gt,io:Qt,connect:Qt});var Zt=n(7830);const te="pingpong-backend-hs1u.onrender.com";let ee;const ne=1e3/59;async function re(t){const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()}async function ie(){return re(`https://${te}/new_game`)}async function oe(t){return re(`https://${te}/join_game/${t}`)}async function se(t){const e=await async function(t){return(await re(`https://${te}/status/${t}`)).state}(t);if("ACTIVE"!==e)return await new Promise((t=>{setTimeout(t,1e3)})),se(t)}function ae(t,e){const n={isPaused:t.isPaused};e.emit("game_pause_updated",n)}function ce(t,e,n){if(t.isPaused)return;null==document.querySelector(".canvas")&&(e.emit("leaveGame",(()=>{e.disconnect()})),setTimeout((()=>e.disconnect()),100));const r=n-ee;if(r>=ne){ee=n;const{ctx:i}=t,{canvas:o}=t,s=t.players[0],a=t.players[1],{ball:c}=t;if(i.clearRect(0,0,o.width,o.height),s.paddle.movePaddle(o),a.paddle.movePaddle(o),s.paddle.draw(i),a.paddle.draw(i),c.draw(i),"host"===s.type&&c.moveBall(o,s,a,r/1e3)){if(t.updateRounds(),v(t),t.rounds===t.maxRounds){let e;e=s.score>a.score?s.name:s.score<a.score?a.name:"It's a tie!",t.setWinner(e),g(e,t.players)}t.winner||(t.isPaused=!0,ae(t,e)),c.reset(o),s.paddle.reset(o),a.paddle.reset(o)}!function(t,e,n,r,i){if("server"===i.type){const o={ball:{position_x:n.positionX,position_y:n.positionY},paddle:{position:r.paddle.y},rounds:e.rounds,max_rounds:e.maxRounds,scores:[r.score,i.score],winner:e.winner.name||e.winner};t.emit("update_game_state_left",o)}else if("server"===r.type){const e={paddle:{position:i.paddle.y}};t.emit("update_game_state_right",e)}}(e,t,c,s,a)}t.winner||requestAnimationFrame((n=>ce(t,e,n)))}async function ue(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;return new Promise((async n=>{try{const r=await async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=new Promise(((t,e)=>{setTimeout((()=>e(new Error("Request timed out"))),1e4)}));try{return await Promise.race([t?oe(t):ie(),e])}catch(t){console.log("Please try again!",t)}}(t);if(r){const t=Qt(`https://${te}`,{transports:["websocket"],query:{id:r.id}});t.on("connect",(async()=>{p(r.id,t);const n=document.querySelector(".dialog"),o=document.querySelector(".canvas"),c=o.getContext("2d");c.font="48px 'Honk', 'Ubuntu Mono', monospace",c.textAlign="center",c.textBaseline="middle";const h=[];!function(t,e,n){if("host"===n.player.type){const r=new u(40,t.height/2-50,"left",15,40,100),i=new a(`${n.player.type}`,`${n.player.name}`,r,parseFloat(n.player.score)),o=new u(t.width-80,t.height/2-50,"right",15,40,100),s=new a("server","Player 2",o,0);e.push(i),e.push(s),m(i)}else if("guest"===n.player.type){const r=new u(t.width-80,t.height/2-50,"right",15,40,100),i=new a(`${n.player.type}`,`${n.player.name}`,r,parseFloat(n.player.score)),o=new u(40,t.height/2-50,"left",15,40,100),s=new a("server","Player 1",o,0);e.push(s),e.push(i),m(i)}}(o,h,r),h.forEach((t=>{t.paddle.draw(c)}));const f=new s({x:.75,y:.5},o.width/2,o.height/2,20),l=new i(o,c,h,0,f,!1,e);return v(l),function(t,e){const n=e.players[0],r=e.players[1],{ball:i}=e;t.on("game_state_updated",(t=>{const o=Zt.decode(new Uint8Array(t));"server"===r.type?void 0!==o.right_paddle&&(e.isPaused||(r.paddle.y=o.right_paddle)):"server"===n.type&&(o.ball&&(i.positionX=o.ball.position_x,i.positionY=o.ball.position_y),void 0!==o.left_paddle&&(n.paddle.y=o.left_paddle),o.rounds&&e.setRounds(parseFloat(o.rounds)),o.max_rounds&&e.changeMaxRounds(o.max_rounds),o.scores&&(n.setScore(o.scores[0]),r.setScore(o.scores[1]),v(e)),o.winner&&(e.setWinner(o.winner),g(e.winner,e.players)))})),t.on("game_result",(()=>{let i;e.isPaused=!0,i=n.score>r.score?n.name:n.score<r.score?r.name:"It's a tie!",null!=document.querySelector(".canvas")&&d("Other player disconnected :("),e.setWinner(i),g(i,e.players),t.disconnect()})),t.on("game_pause_updated",(n=>{e.isPaused=n.isPaused,e.isPaused&&he(e,t)}))}(t,l),n.showModal(),await se(r.id),n.close(),he(l,t),{ok:!0}})),t.on("connect_error",(()=>{d("Connection failed",!0),n({ok:!1})}))}else n({ok:!1})}catch(t){n({ok:!1})}}))}function he(t,e){let n=3;const{ctx:r}=t,{canvas:i}=t,o=t.players[0],s=t.players[1];r.clearRect(0,0,i.width,i.height),o.paddle.reset(i),s.paddle.reset(i),o.paddle.draw(r),s.paddle.draw(r),setTimeout((()=>{y(r,n,i.width/2,i.height/2);const a=setInterval((()=>{n-=1,r.clearRect(0,0,i.width,i.height),o.paddle.draw(r),s.paddle.draw(r),n>0?y(r,n,i.width/2,i.height/2):(t.isPaused=!1,ae(t,e),clearInterval(a),requestAnimationFrame((n=>{ee=n,ce(t,e,n)})))}),1e3)}),100)}const de=document.querySelector("#content");const fe=n.p+"b1320545e9452eefacd8.png",le=n.p+"979b160a14a514860da2.png",pe=n.p+"e67e38cb9c6069fee76a.png",ye=n.p+"34c50517999d2e8b901a.png",me=document.querySelector("#content");function ge(){r(me);const t=e(me,"div","startMenu");e(t,"h1","gameName").textContent="PING PONG";const n=e(t,"div","buttonContainer");e(n,"button","localGameButton","Local game").addEventListener("click",(()=>{!function(){r(P);let t=null;const n=e(P,"div","localMenu");e(n,"h1","localHeader").textContent="Local Game";const i=S(n),o=e(n,"div","buttonContainer");e(o,"button","twoPlayersButton","Player vs Player").addEventListener("click",(()=>{t=!1,i.showModal()})),e(o,"button","againstBotButton","Player vs Bot").addEventListener("click",(()=>{t=!0,i.showModal()})),i.addEventListener("close",(()=>{const e=R();"default"===i.returnValue&&(!1===t?B(!1,e):!0===t&&B(!0,e)),t=null})),f(o)}()})),e(n,"button","onlineGameButton","Online game").addEventListener("click",(()=>{!function(){r(de);const t=e(de,"div","onlineMenu"),n=function(){const t=e(document.querySelector(".onlineMenu"),"dialog","dialog");t.id="joinGameDialog";const n=e(t,"div","dialogContainer");e(n,"button","closeButton","Close").addEventListener("click",(()=>{t.close()})),e(n,"div","dialogTitle","Enter game id");const r=document.createElement("form");r.id="gameIdForm",r.method="get",r.classList.add("dialogForm"),n.appendChild(r);const i=e(r,"div","formElement"),o=document.createElement("label");o.setAttribute("for","gameId"),o.textContent="Game id";const s=document.createElement("input");return s.id="gameId",s.name="gameId",s.type="text",s.placeholder="aaa-aaa-aaa",s.required=!0,i.appendChild(o),i.appendChild(s),e(r,"button","confirmIdButton","Join game").type="submit",r.addEventListener("submit",(async t=>{t.preventDefault();const e=document.getElementById("gameId").value;try{(await ue(e)).ok||d("Invalid game id",!0)}catch(t){d("An error occurred",!0)}})),t}(),i=S(t),o=(e(t,"h1","onlineHeader","Online game"),e(t,"div","spinner"));o.style.display="none";const s=e(t,"div","buttonContainer");e(s,"button","createGameButton","Create Game").addEventListener("click",(()=>{i.showModal()})),i.addEventListener("close",(async()=>{const t=R();if("default"===i.returnValue){try{o.style.display="block",(await ue(!1,t)).ok||d("Server is asleep. Please try again in a few minutes",!0)}catch(t){d("An error occurred",!0)}o.style.display="none"}})),e(s,"button","joinGameButton","Join Game").addEventListener("click",(()=>{n.showModal()})),f(s)}()})),function(t){const n=e(t,"div","controlsContainer"),r=(e(n,"div","controlsHeader","Controls"),e(n,"div","controls")),i=e(r,"div","wsContainer"),o=e(i,"div","wsButtons"),s=e(o,"div","buttonImageContainer");e(s,"img","buttonImage").src=fe;const a=e(o,"div","buttonImageContainer");e(a,"img","buttonImage").src=le;const c=e(i,"div","buttonsTextContainer"),u=(e(c,"div","buttonText","for local left paddle"),e(c,"div","buttonText","for online left and right paddles"),e(r,"div","arrowContainer")),h=e(u,"div","arrowButtons"),d=e(h,"div","buttonImageContainer");d.classList.add("arrowImageContainer");const f=e(d,"img","buttonImage");f.src=pe,f.classList.add("arrowImage");const l=e(h,"div","buttonImageContainer");l.classList.add("arrowImageContainer");const p=e(l,"img","buttonImage");p.src=ye,p.classList.add("arrowImage");const y=e(u,"div","buttonsTextContainer");e(y,"div","buttonText","for local right paddle")}(t),function(t){const n=e(t,"div","footerContainer"),r=e(n,"div","attributionText","Background designed by "),i=document.createElement("a");i.textContent="Freepik",i.href="https://www.freepik.com/",i.target="_blank",r.appendChild(i);const o=e(n,"div","footerText","Game created by "),s=document.createElement("a");s.textContent="Anastasiia",s.href="https://github.com/citronoiseau/cs50-final-project",s.target="_blank",o.appendChild(s);const a=e(n,"div","attributionText","Icons created by "),c=document.createElement("a");c.textContent="Flaticon",c.href="https://www.flaticon.com/free-icons/asteroid",c.target="_blank",a.appendChild(c)}(t)}function ve(){ge()}var be=n(5072),we=n.n(be),xe=n(7825),ke=n.n(xe),_e=n(7659),Ee=n.n(_e),Ae=n(5056),Ce=n.n(Ae),Be=n(540),Te=n.n(Be),Re=n(1113),Se=n.n(Re),Pe=n(1208),Ue={};Ue.styleTagTransform=Se(),Ue.setAttributes=Ce(),Ue.insert=Ee().bind(null,"head"),Ue.domAPI=ke(),Ue.insertStyleElement=Te(),we()(Pe.A,Ue),Pe.A&&Pe.A.locals&&Pe.A.locals;const Oe=("gameId",new URLSearchParams(window.location.search).get("gameId"));Oe?async function(t){try{if(!(await ue(t)).ok){d("Failed to join the game. Please check the game ID and try again.",!0);const t=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,t),ve()}}catch(t){const e=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,e),d("An error occurred",!0),ve()}}(Oe):ve()})()})();